
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Affirmations â€” Conversational AI</title>
<style>
  :root{
    --bg:#3b1534;
    --panel:#5a2450;
    --card:#7a3fa0;
    --tile:#d973f0;
    --accent:#ff2fa6;
    --muted:#d9c9dc;
    --white:#ffffff;
  }
  html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,"Helvetica Neue",Arial;background:var(--bg);color:var(--white)}
  .wrap{min-height:100%;display:flex;align-items:center;justify-content:center;padding:28px;box-sizing:border-box}
  .panel{width:100%;max-width:1100px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.02));border-radius:8px;padding:28px;box-shadow:0 20px 50px rgba(0,0,0,0.45);box-sizing:border-box}
  .header{display:flex;align-items:center;justify-content:space-between;margin-bottom:18px}
  .title{font-weight:700;font-size:20px}
  .sub{color:var(--muted);font-size:13px}
  .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:20px;max-width:820px;margin:18px auto 0}
  .tile{background:var(--tile);color:var(--white);padding:34px;border-radius:14px;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:18px;cursor:pointer;box-shadow:0 8px 24px rgba(0,0,0,0.3);transition:transform .12s ease,box-shadow .12s ease;text-align:center}
  .tile:focus,.tile:hover{transform:translateY(-6px);box-shadow:0 20px 48px rgba(0,0,0,0.45);outline:none}
  .note{color:var(--muted);text-align:center;margin-top:12px;font-size:13px}
  .back{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted);padding:8px 12px;border-radius:8px;text-decoration:none}
  /* modal */
  .backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.55);display:none;align-items:center;justify-content:center;z-index:60}
  .modal{background:var(--panel);padding:18px;border-radius:12px;max-width:720px;width:92%;box-shadow:0 30px 80px rgba(0,0,0,0.6);color:var(--white);max-height:80vh;overflow:auto}
  .modal h2{margin:0 0 8px}
  .list{display:grid;gap:10px}
  .affirm{background:rgba(255,255,255,0.05);padding:12px;border-radius:10px;color:var(--muted);display:flex;justify-content:space-between;align-items:center}
  .affirm .text{max-width:86%}
  .affirm button{background:linear-gradient(90deg,var(--accent),#ff5aa8);border:0;color:#fff;padding:8px 10px;border-radius:8px;cursor:pointer}
  .close{background:transparent;border:0;color:var(--muted);cursor:pointer;font-size:14px}
  @media (max-width:920px){ .grid{grid-template-columns:repeat(2,1fr)} }
  @media (max-width:520px){ .grid{grid-template-columns:1fr} .tile{padding:22px;font-size:16px} }
</style>
</head>
<body>
  <main class="wrap" role="main" aria-labelledby="affTitle">
    <section class="panel" aria-labelledby="affTitle">
      <div class="header">
        <div>
          <div id="affTitle" class="title">Affirmations</div>
          <div class="sub">Select a category to view short, supportive affirmations you can copy or read aloud.</div>
        </div>
        <div><a href="Dashboard.html" class="back">Back</a></div>
      </div>

      <div class="grid" role="list" id="categories">
        <!-- tiles inserted by JS -->
      </div>

      <div class="note">Tip: click an affirmation to copy it to your clipboard.</div>
    </section>
  </main>

  <div id="backdrop" class="backdrop" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal" role="document" aria-labelledby="modalTitle">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
        <h2 id="modalTitle">Category</h2>
        <div>
          <button id="closeModal" class="close" aria-label="Close">Close</button>
        </div>
      </div>
      <div id="affirmList" class="list" role="list">
        <!-- affirmations injected here -->
      </div>
    </div>
  </div>

<script>
  const categories = {
    Gratitude: [
      "I am grateful for the good in my life.",
      "I notice and appreciate small blessings today.",
      "Thank you for the people who support me."
    ],
    Calm: [
      "I breathe in peace and exhale tension.",
      "I am grounded and present in this moment.",
      "I allow calm to wash over me."
    ],
    Growth: [
      "I learn and grow from every experience.",
      "I am patient with my progress.",
      "Challenges help me become stronger."
    ],
    Abundance: [
      "I am open to receiving abundance in many forms.",
      "There is enough for me and for others.",
      "Opportunities flow to me easily."
    ],
    Resilience: [
      "I recover from setbacks with grace.",
      "I trust my ability to handle difficult times.",
      "Each day I become more resilient."
    ],
    Hope: [
      "I hold space for hope and possibility.",
      "Tomorrow brings new opportunities.",
      "I believe in my capacity to heal and change."
    ]
  };

  const categoriesEl = document.getElementById('categories');
  const backdrop = document.getElementById('backdrop');
  const modalTitle = document.getElementById('modalTitle');
  const affirmList = document.getElementById('affirmList');
  const closeModal = document.getElementById('closeModal');

  function buildTiles() {
    Object.keys(categories).forEach(key => {
      const btn = document.createElement('button');
      btn.className = 'tile';
      btn.setAttribute('role','button');
      btn.tabIndex = 0;
      btn.innerText = key;
      btn.dataset.category = key;
      btn.addEventListener('click', () => openCategory(key));
      btn.addEventListener('keydown', (e) => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); openCategory(key); }});
      categoriesEl.appendChild(btn);
    });
  }

  function openCategory(name) {
    modalTitle.textContent = name;
    affirmList.innerHTML = '';
    categories[name].forEach((txt, i) => {
      const el = document.createElement('div');
      el.className = 'affirm';
      el.innerHTML = `<div class="text">${escapeHtml(txt)}</div><div><button data-t="${i}">Copy</button></div>`;
      el.querySelector('button').addEventListener('click', () => {
        copyToClipboard(txt);
        el.querySelector('button').textContent = 'Copied';
        setTimeout(() => el.querySelector('button').textContent = 'Copy', 1200);
      });
      // also allow clicking the affirmation to copy
      el.addEventListener('click', (e) => {
        if (e.target.tagName.toLowerCase() !== 'button') {
          copyToClipboard(txt);
          const btn = el.querySelector('button');
          btn.textContent = 'Copied';
          setTimeout(() => btn.textContent = 'Copy', 1200);
        }
      });
      affirmList.appendChild(el);
    });
    backdrop.style.display = 'flex';
    backdrop.setAttribute('aria-hidden','false');
    closeModal.focus();
  }

  function close() {
    backdrop.style.display = 'none';
    backdrop.setAttribute('aria-hidden','true');
  }

  closeModal.addEventListener('click', close);
  backdrop.addEventListener('click', (e) => { if (e.target === backdrop) close(); });
  document.addEventListener('keydown', (e) => { if (e.key === 'Escape' && backdrop.style.display === 'flex') close(); });

  function copyToClipboard(text) {
    if (navigator.clipboard && navigator.clipboard.writeText) {
      navigator.clipboard.writeText(text).catch(()=>fallbackCopy(text));
    } else fallbackCopy(text);
  }
  function fallbackCopy(t) {
    const ta = document.createElement('textarea');
    ta.value = t; ta.style.position='fixed'; ta.style.left='-9999px';
    document.body.appendChild(ta); ta.select();
    try { document.execCommand('copy'); } catch(e) {}
    document.body.removeChild(ta);
  }

  function escapeHtml(s){ return String(s).replace(/[&<>"']/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[c])); }

  buildTiles();
</script>
</body>
</html>
